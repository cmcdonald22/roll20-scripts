\n\n# ChatSetAttr \n This script is a utility that allows the user to create, modify, or delete character attributes via chat messages or macros. There are several options that determine which attributes are modified, and which characters the attributes are modified for. The script is called by the command **!setattr [--options]** for creating or modifzing attributes, or **!delattr [--options]** for deleting attributes. Note that the script will not trigger any Sheet Workers that would be triggered by modifying these attributes manually. This will be changed once it is possible.\n\n## Selecting a target\n One of the following options must be specified; they determine which characters are affected by the script.\n* **--all** will affect all characters in the game. USE WITH CAUTION. This option will only work for the GM.\n* **--allgm** will affect all characters which do not have a controlling player set, which typically will be every character that is not a player character. USE WITH CAUTION. This option will only work for the GM. \n* **--charid charid1, charid2, ...** allows you to supply a list of character ids, and will affect characters whose ids come from this list. Non-GM Players can only affect characters that they control.\n* **--name name1, name2, ...** allows you to supply a list of character names, and will look for a character with this name to affect. Non-GM Players can only affect characters that they control.\n* **--sel** will affect all characters that are represented by tokens you have currently selected.\n\n## Additional options\n* **--silent** will suppress all output.\n* **--replace** will replace the characters <,>,#,~,;, and \` by the characters [,],|,-,?, and @ in attribute values. This is useful when you do not want roll20 to evaluate your expression in chat before it is parsed by the script. This option has no effect on !**delattr.**\n* **--nocreate** will change the script's default behaviour of creating a new attribute when it cannot find one; instead, the script will display an error message when it cannot find an existing attribute of the given name.\n\n## Attribute Syntax\n Attribute options will determine which attributes are set to which value (or deleted, in case of !delattr). The syntax for these options is **--name|value** or **--name|value|max**. Here, **name** is the name of the attribute (which is parsed case-insensitively), **value** is the value that the current value of the attribute should be set to, and **max** is the value that the maximum value of the attribute should be set to.\n* Single quotes (') surrounding **value** or **max** will be stripped.\n* If the option is of the form **--name|value**, then the maximum value will not be changed.\n* If it is of the form **--name||max**, then the current value will not be changed.\n* You can also just supply **--name|** or **--name** if you just want to create an empty attribute or set it to empty if it already exists, for whatever reason.\n* **value** and **max** are ignored for **!delattr**.\n* If you want to empty the current attribute and set some maximum, use **--name|''|max**.\n* The script can deal with repeating attributes. Due to a technical limitation, if a repeating attribute is given by row index, e.g. repeating_action_$0_name, the script will not now if the rows have been reordered, and reference repeating rows in order of creation, not in the order they are displayed in.\n\n## Examples\n* **!setattr --sel --Strength|15** will set the Strength attribute for 15 for all selected characters.\n* **!setattr --name John --HP|17|27 --Dex|10** will set HP to 17 out of 27 and Dex to 10 for the character John (only one of them, if more than one character by this name exists).\n* **!delattr --all --gold** will delete all attributes called MP from all characters.